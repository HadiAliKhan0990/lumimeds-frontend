# Google Indexing Control

This document explains how to control Google indexing for different environments.

## Environment Variables

### Current Setup

- **Staging/Development**: `NEXT_PUBLIC_ALLOW_INDEXING=false` (prevents indexing)
- **Production**: `NEXT_PUBLIC_ALLOW_INDEXING=true` (allows indexing)

## How It Works

### 1. Meta Robots Tag

The root layout (`app/layout.tsx`) includes a robots meta tag that changes based on the environment:

```typescript
export const metadata: Metadata = {
  title: 'LumiMeds',
  description: 'Generated by create next app',
  robots: process.env.NEXT_PUBLIC_ALLOW_INDEXING === 'true' ? 'index, follow' : 'noindex, nofollow',
};
```

### 2. Robots.txt File

The `/robots.txt` route (`app/robots.txt/route.ts`) dynamically generates robots.txt content:

**When `NEXT_PUBLIC_ALLOW_INDEXING=true` (Production):**

```
User-agent: *
Allow: /

Sitemap: https://www.lumimeds.com/lumimed-sitemap.xml
```

**When `NEXT_PUBLIC_ALLOW_INDEXING=false` (Staging/Development):**

```
User-agent: *
Disallow: /
```

## Environment Configuration

### For Staging/Development (.env)

```bash
NEXT_PUBLIC_ALLOW_INDEXING=false
ENV=staging
```

### For Production (.env)

```bash
NEXT_PUBLIC_ALLOW_INDEXING=true
ENV=production
```

## Benefits

1. **Prevents Staging Indexing**: Staging environments won't be indexed by Google
2. **SEO Safe**: Production remains fully indexable
3. **Automatic**: No manual intervention needed
4. **Consistent**: Works across all pages automatically

## Testing

1. **Check robots.txt**: Visit `/robots.txt` to see the current configuration
2. **Check meta tags**: View page source to see the robots meta tag
3. **Environment**: The `ENV` variable helps identify which environment you're on

## Deployment

- **Staging**: Set `NEXT_PUBLIC_ALLOW_INDEXING=false` in staging environment variables
- **Production**: Set `NEXT_PUBLIC_ALLOW_INDEXING=true` in production environment variables

This ensures only your production website gets indexed by Google while keeping staging environments private.
